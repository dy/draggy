{
  "version": 3,
  "sources": ["node_modules/mucss/fake-element.js", "node_modules/mucss/prefix.js", "node_modules/mucss/css.js", "node_modules/mucss/parse-value.js", "node_modules/mucss/selection.js", "node_modules/mucss/rect.js", "node_modules/mucss/has-scroll.js", "node_modules/mucss/scrollbar.js", "node_modules/mucss/is-fixed.js", "node_modules/mucss/translate.js", "node_modules/mucss/offset.js", "node_modules/icicle/index.js", "node_modules/emmy/listeners.js", "node_modules/emmy/off.js", "node_modules/emmy/on.js", "node_modules/emmy/emit.js", "node_modules/emmy/index.js", "node_modules/get-client-xy/index.js", "node_modules/is-primitive/index.js", "node_modules/st8/index.js", "node_modules/define-state/index.js", "index.js"],
  "sourcesContent": ["/** Just a fake element to test styles\r\n * @module mucss/fake-element\r\n */\r\n\r\nmodule.exports = document.createElement('div');", "/**\r\n * Vendor prefixes\r\n * Method of http://davidwalsh.name/vendor-prefix\r\n * @module mucss/prefix\r\n */\r\n\r\nvar styles = getComputedStyle(document.documentElement, '');\r\n\r\nif (!styles) {\r\n\tmodule.exports = {\r\n\t\tdom: '', lowercase: '', css: '', js: ''\r\n\t};\r\n}\r\n\r\nelse {\r\n\tvar pre = (Array.prototype.slice.call(styles)\r\n\t\t.join('')\r\n\t\t.match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\r\n\t)[1];\r\n\r\n\tvar dom = ('WebKit|Moz|MS|O').match(new RegExp('(' + pre + ')', 'i'))[1];\r\n\r\n\tmodule.exports = {\r\n\t\tdom: dom,\r\n\t\tlowercase: pre,\r\n\t\tcss: '-' + pre + '-',\r\n\t\tjs: pre[0].toUpperCase() + pre.substr(1)\r\n\t};\r\n}\r\n", "/**\r\n * Get or set element\u2019s style, prefix-agnostic.\r\n *\r\n * @module  mucss/css\r\n */\r\nvar fakeStyle = require('./fake-element').style;\r\nvar prefix = require('./prefix').lowercase;\r\n\r\n\r\n/**\r\n * Apply styles to an element.\r\n *\r\n * @param    {Element}   el   An element to apply styles.\r\n * @param    {Object|string}   obj   Set of style rules or string to get style rule.\r\n */\r\nmodule.exports = function(el, obj){\r\n\tif (!el || !obj) return;\r\n\r\n\tvar name, value;\r\n\r\n\t//return value, if string passed\r\n\tif (typeof obj === 'string') {\r\n\t\tname = obj;\r\n\r\n\t\t//return value, if no value passed\r\n\t\tif (arguments.length < 3) {\r\n\t\t\treturn el.style[prefixize(name)];\r\n\t\t}\r\n\r\n\t\t//set style, if value passed\r\n\t\tvalue = arguments[2] || '';\r\n\t\tobj = {};\r\n\t\tobj[name] = value;\r\n\t}\r\n\r\n\tfor (name in obj){\r\n\t\t//convert numbers to px\r\n\t\tif (typeof obj[name] === 'number' && /left|right|bottom|top|width|height/i.test(name)) obj[name] += 'px';\r\n\r\n\t\tvalue = obj[name] || '';\r\n\r\n\t\tel.style[prefixize(name)] = value;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Return prefixized prop name, if needed.\r\n *\r\n * @param    {string}   name   A property name.\r\n * @return   {string}   Prefixed property name.\r\n */\r\nfunction prefixize(name){\r\n\tvar uName = name[0].toUpperCase() + name.slice(1);\r\n\tif (fakeStyle[name] !== undefined) return name;\r\n\tif (fakeStyle[prefix + uName] !== undefined) return prefix + uName;\r\n\treturn '';\r\n}\r\n", "/**\r\n * Returns parsed css value.\r\n *\r\n * @module mucss/parse-value\r\n *\r\n * @param {string} str A string containing css units value\r\n *\r\n * @return {number} Parsed number value\r\n */\r\nmodule.exports = function (str){\r\n\tstr += '';\r\n\treturn parseFloat(str.slice(0,-2)) || 0;\r\n};\r\n\r\n//FIXME: add parsing units", "/**\r\n * Enable/disable selectability of an element\r\n * @module mucss/selection\r\n */\r\nvar css = require('./css');\r\n\r\n\r\n/**\r\n * Disable or Enable any selection possibilities for an element.\r\n *\r\n * @param    {Element}   el   Target to make unselectable.\r\n */\r\nexports.disable = function(el){\r\n\tcss(el, {\r\n\t\t'user-select': 'none',\r\n\t\t'user-drag': 'none',\r\n\t\t'touch-callout': 'none'\r\n\t});\r\n\tel.setAttribute('unselectable', 'on');\r\n\tel.addEventListener('selectstart', pd);\r\n};\r\nexports.enable = function(el){\r\n\tcss(el, {\r\n\t\t'user-select': null,\r\n\t\t'user-drag': null,\r\n\t\t'touch-callout': null\r\n\t});\r\n\tel.removeAttribute('unselectable');\r\n\tel.removeEventListener('selectstart', pd);\r\n};\r\n\r\n\r\n/** Prevent you know what. */\r\nfunction pd(e){\r\n\te.preventDefault();\r\n}", "/**\r\n * Simple rect constructor.\r\n * It is just faster and smaller than constructing an object.\r\n *\r\n * @module mucss/rect\r\n *\r\n * @param {number} l left\r\n * @param {number} t top\r\n * @param {number} r right\r\n * @param {number} b bottom\r\n *\r\n * @return {Rect} A rectangle object\r\n */\r\nmodule.exports = function Rect (l,t,r,b) {\r\n\tif (!(this instanceof Rect)) return new Rect(l,t,r,b);\r\n\r\n\tthis.left=l||0;\r\n\tthis.top=t||0;\r\n\tthis.right=r||0;\r\n\tthis.bottom=b||0;\r\n\tthis.width=Math.abs(this.right - this.left);\r\n\tthis.height=Math.abs(this.bottom - this.top);\r\n};", "/**\r\n * Window scrollbar detector.\r\n *\r\n * @module mucss/has-scroll\r\n */\r\n\r\n//TODO: detect any element scroll, not only the window\r\nexports.x = function () {\r\n\treturn window.innerHeight > document.documentElement.clientHeight;\r\n};\r\nexports.y = function () {\r\n\treturn window.innerWidth > document.documentElement.clientWidth;\r\n};", "/**\r\n * Calculate scrollbar width.\r\n *\r\n * @module mucss/scrollbar\r\n */\r\n\r\n// Create the measurement node\r\nvar scrollDiv = document.createElement(\"div\");\r\n\r\nvar style = scrollDiv.style;\r\n\r\nstyle.width = '100px';\r\nstyle.height = '100px';\r\nstyle.overflow = 'scroll';\r\nstyle.position = 'absolute';\r\nstyle.top = '-9999px';\r\n\r\ndocument.documentElement.appendChild(scrollDiv);\r\n\r\n// the scrollbar width\r\nmodule.exports = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\r\n// Delete fake DIV\r\ndocument.documentElement.removeChild(scrollDiv);", "/**\r\n * Detect whether element is placed to fixed container or is fixed itself.\r\n *\r\n * @module mucss/is-fixed\r\n *\r\n * @param {(Element|Object)} el Element to detect fixedness.\r\n *\r\n * @return {boolean} Whether element is nested.\r\n */\r\nmodule.exports = function (el) {\r\n\tvar parentEl = el;\r\n\r\n\t//window is fixed, btw\r\n\tif (el === window) return true;\r\n\r\n\t//unlike the doc\r\n\tif (el === document) return false;\r\n\r\n\twhile (parentEl) {\r\n\t\tif (getComputedStyle(parentEl).position === 'fixed') return true;\r\n\t\tparentEl = parentEl.offsetParent;\r\n\t}\r\n\treturn false;\r\n};", "/**\r\n * Parse translate3d\r\n *\r\n * @module mucss/translate\r\n */\r\n\r\nvar css = require('./css');\r\nvar parseValue = require('./parse-value');\r\n\r\nmodule.exports = function (el) {\r\n\tvar translateStr = css(el, 'transform');\r\n\r\n\t//find translate token, retrieve comma-enclosed values\r\n\t//translate3d(1px, 2px, 2) \u2192 1px, 2px, 2\r\n\t//FIXME: handle nested calcs\r\n\tvar match = /translate(?:3d)?\\s*\\(([^\\)]*)\\)/.exec(translateStr);\r\n\r\n\tif (!match) return [0, 0];\r\n\tvar values = match[1].split(/\\s*,\\s*/);\r\n\r\n\t//parse values\r\n\t//FIXME: nested values are not necessarily pixels\r\n\treturn values.map(function (value) {\r\n\t\treturn parseValue(value);\r\n\t});\r\n};", "/**\r\n * Calculate absolute offsets of an element, relative to the document.\r\n *\r\n * @module mucss/offsets\r\n *\r\n */\r\nvar win = window;\r\nvar doc = document;\r\nvar Rect = require('./rect');\r\nvar hasScroll = require('./has-scroll');\r\nvar scrollbar = require('./scrollbar');\r\nvar isFixedEl = require('./is-fixed');\r\nvar getTranslate = require('./translate');\r\n\r\n\r\n/**\r\n * Return absolute offsets of any target passed\r\n *\r\n * @param    {Element|window}   el   A target. Pass window to calculate viewport offsets\r\n * @return   {Object}   Offsets object with trbl.\r\n */\r\nmodule.exports = offsets;\r\n\r\nfunction offsets (el) {\r\n\tif (!el) throw Error('Bad argument');\r\n\r\n\t//calc client rect\r\n\tvar cRect, result;\r\n\r\n\t//return vp offsets\r\n\tif (el === win) {\r\n\t\tresult = Rect(\r\n\t\t\twin.pageXOffset,\r\n\t\t\twin.pageYOffset\r\n\t\t);\r\n\r\n\t\tresult.width = win.innerWidth - (hasScroll.y() ? scrollbar : 0),\r\n\t\tresult.height = win.innerHeight - (hasScroll.x() ? scrollbar : 0)\r\n\t\tresult.right = result.left + result.width;\r\n\t\tresult.bottom = result.top + result.height;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//return absolute offsets if document requested\r\n\telse if (el === doc) {\r\n\t\tvar res = offsets(doc.documentElement);\r\n\t\tres.bottom = Math.max(window.innerHeight, res.bottom);\r\n\t\tres.right = Math.max(window.innerWidth, res.right);\r\n\t\tres.height = Math.max(window.innerHeight, res.height);\r\n\t\tres.width = Math.max(window.innerHeight, res.width);\r\n\t\tif (hasScroll.y(doc.documentElement)) res.right -= scrollbar;\r\n\t\tif (hasScroll.x(doc.documentElement)) res.bottom -= scrollbar;\r\n\t\treturn res;\r\n\t}\r\n\r\n\t//FIXME: why not every element has getBoundingClientRect method?\r\n\ttry {\r\n\t\tcRect = el.getBoundingClientRect();\r\n\t} catch (e) {\r\n\t\tcRect = Rect(\r\n\t\t\tel.clientLeft,\r\n\t\t\tel.clientTop\r\n\t\t);\r\n\t}\r\n\r\n\t//whether element is or is in fixed\r\n\tvar isFixed = isFixedEl(el);\r\n\tvar xOffset = isFixed ? 0 : win.pageXOffset;\r\n\tvar yOffset = isFixed ? 0 : win.pageYOffset;\r\n\r\n\tresult = Rect(\r\n\t\tcRect.left + xOffset,\r\n\t\tcRect.top + yOffset,\r\n\t\tcRect.left + xOffset + el.offsetWidth,\r\n\t\tcRect.top + yOffset + el.offsetHeight\r\n\t);\r\n\r\n\treturn result;\r\n};", "/**\r\n * @module Icicle\r\n */\r\nmodule.exports = {\r\n\tfreeze: lock,\r\n\tunfreeze: unlock,\r\n\tisFrozen: isLocked\r\n};\r\n\r\n\r\n/** Set of targets  */\r\nvar lockCache = new WeakMap;\r\n\r\n\r\n/**\r\n * Set flag on target with the name passed\r\n *\r\n * @return {bool} Whether lock succeeded\r\n */\r\nfunction lock(target, name){\r\n\tvar locks = lockCache.get(target);\r\n\tif (locks && locks[name]) return false;\r\n\r\n\t//create lock set for a target, if none\r\n\tif (!locks) {\r\n\t\tlocks = {};\r\n\t\tlockCache.set(target, locks);\r\n\t}\r\n\r\n\t//set a new lock\r\n\tlocks[name] = true;\r\n\r\n\t//return success\r\n\treturn true;\r\n}\r\n\r\n\r\n/**\r\n * Unset flag on the target with the name passed.\r\n *\r\n * Note that if to return new value from the lock/unlock,\r\n * then unlock will always return false and lock will always return true,\r\n * which is useless for the user, though maybe intuitive.\r\n *\r\n * @param {*} target Any object\r\n * @param {string} name A flag name\r\n *\r\n * @return {bool} Whether unlock failed.\r\n */\r\nfunction unlock(target, name){\r\n\tvar locks = lockCache.get(target);\r\n\tif (!locks || !locks[name]) return false;\r\n\r\n\tlocks[name] = null;\r\n\r\n\treturn true;\r\n}\r\n\r\n\r\n/**\r\n * Return whether flag is set\r\n *\r\n * @param {*} target Any object to associate lock with\r\n * @param {string} name A flag name\r\n *\r\n * @return {Boolean} Whether locked or not\r\n */\r\nfunction isLocked(target, name){\r\n\tvar locks = lockCache.get(target);\r\n\treturn (locks && locks[name]);\r\n}", "/**\n * A storage for per-target callbacks.\n * WeakMap is the most safe solution.\n *\n * @module emmy/listeners\n */\n\n// target: {evt: callbacks}\nvar LISTENERS = new WeakMap()\n\n/**\n * Get listeners for the target/evt (optionally).\n *\n * @param {object} target a target object\n * @param {string}? evt an evt name, if undefined - return object with events\n *\n * @return {(object|array)} List/set of listeners\n */\nfunction get(target, evt, tags) {\n\tvar cbs = LISTENERS.get(target);\n\tvar result;\n\n\tif (!evt) {\n\t\tresult = cbs || {};\n\n\t\t// filter cbs by tags\n\t\tif (tags && tags.length) {\n\t\t\tvar filteredResult = {};\n\t\t\tfor (var evt in result) {\n\t\t\t\tfilteredResult[evt] = result[evt].filter(function (cb) {\n\t\t\t\t\treturn hasTags(cb, tags);\n\t\t\t\t});\n\t\t\t}\n\t\t\tresult = filteredResult;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tif (!cbs || !cbs[evt]) {\n\t\treturn [];\n\t}\n\n\tresult = cbs[evt];\n\n\t// if there are evt namespaces specified - filter callbacks\n\tif (tags && tags.length) {\n\t\tresult = result.filter(function (cb) {\n\t\t\treturn hasTags(cb, tags);\n\t\t});\n\t}\n\n\treturn result;\n}\n\n\n/**\n * Remove listener, if any\n */\nfunction remove(target, evt, cb, tags) {\n\t// get callbacks for the evt\n\tvar evtCallbacks = LISTENERS.get(target);\n\tif (!evtCallbacks || !evtCallbacks[evt]) return false;\n\n\tvar callbacks = evtCallbacks[evt];\n\n\t// if tags are passed - make sure callback has some tags before removing\n\tif (tags && tags.length && !hasTags(cb, tags)) return false;\n\n\t// remove specific handler\n\tfor (var i = 0; i < callbacks.length; i++) {\n\t\t// once method has original callback in .cb\n\t\tif (callbacks[i] === cb) {\n\t\t\tcallbacks.splice(i, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n\n/**\n * Add a new listener\n */\nfunction add(target, evt, cb, tags) {\n\tif (!cb) return;\n\n\tvar targetCallbacks = LISTENERS.get(target);\n\n\t// ensure set of callbacks for the target exists\n\tif (!targetCallbacks) {\n\t\ttargetCallbacks = {}\n\t\tLISTENERS.set(target, targetCallbacks)\n\t}\n\n\t// save a new callback\n\t(targetCallbacks[evt] = targetCallbacks[evt] || []).push(cb);\n\n\t// save ns for a callback, if any\n\tif (tags && tags.length) {\n\t\tcb._ns = tags;\n\t}\n};\n\n\n/** Detect whether an cb has at least one tag from the list */\nfunction hasTags(cb, tags) {\n\tif (!cb._ns) return false\n\n\t// if cb is tagged with a ns and includes one of the ns passed - keep it\n\tfor (var i = tags.length; i--;) {\n\t\tif (cb._ns.indexOf(tags[i]) >= 0) return true;\n\t}\n}\n\n\nmodule.exports = {\n\tget: get, remove: remove, add: add\n};\n", "/**\n * @module emmy/off\n */\n'use strict'\n\nmodule.exports = off;\n\nvar icicle = require('icicle');\nvar listeners = require('./listeners');\n\n/**\n * Remove listener[s] from the target\n *\n * @param {[type]} evt [description]\n * @param {Function} fn [description]\n *\n * @return {[type]} [description]\n */\nfunction off(target, evt, fn) {\n\tif (!target) return target;\n\n\tvar callbacks, i;\n\n\t// unbind all listeners if no fn specified\n\tif (fn === undefined) {\n\t\tvar args = [].slice.call(arguments, 1);\n\n\t\t// try to use target removeAll method, if any\n\t\tvar allOff = target.removeAll || target.removeAllListeners;\n\n\t\t// call target removeAll\n\t\tif (allOff) {\n\t\t\tallOff.apply(target, args);\n\t\t}\n\n\t\t// then forget own callbacks, if any\n\n\t\t// unbind all evts\n\t\tif (!evt) {\n\t\t\tcallbacks = listeners.get(target);\n\t\t\tfor (evt in callbacks) {\n\t\t\t\toff(target, evt);\n\t\t\t}\n\t\t\treturn target\n\t\t}\n\n\t\t// unbind passed callback from all listeners\n\t\tif (typeof evt === 'function') {\n\t\t\tfn = evt\n\t\t\tevt = null\n\t\t\tcallbacks = listeners.get(target);\n\t\t\tfor (evt in callbacks) {\n\t\t\t\tif (callbacks[evt].indexOf(fn) >= 0) {\n\t\t\t\t\toff(target, evt, fn)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn target\n\t\t}\n\n\t\t// unbind all callbacks for an evt\n\t\tevt = '' + evt;\n\n\t\t// invoke method for each space-separated event from a list\n\t\tevt.split(/\\s+/).forEach(function (evt) {\n\t\t\tvar evtParts = evt.split('.');\n\t\t\tevt = evtParts.shift();\n\t\t\tcallbacks = listeners.get(target, evt, evtParts);\n\n\t\t\t// returned array of callbacks (as event is defined)\n\t\t\tif (evt) {\n\t\t\t\tvar obj = {};\n\t\t\t\tobj[evt] = callbacks;\n\t\t\t\tcallbacks = obj;\n\t\t\t}\n\n\t\t\t// for each group of callbacks - unbind all\n\t\t\tfor (var evtName in callbacks) {\n\t\t\t\t[].slice.call(callbacks[evtName]).forEach(function (cb) {\n\t\t\t\t\toff(target, evtName, cb);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\tif (!Array.isArray(evt)) evt = (evt + '').split(/\\s+/)\n\n\t// target events (string notation to advanced_optimizations)\n\tvar offMethod = target.removeEventListener || target.removeListener || target.detachEvent || target.off;\n\n\t// invoke method for each space-separated event from a list\n\tevt.forEach(function (evt) {\n\t\tvar evtParts = evt.split('.');\n\t\tevt = evtParts.shift();\n\n\t\t// use target `off`, if possible\n\t\tif (offMethod) {\n\t\t\t// avoid self-recursion from the outside\n\t\t\tif (icicle.freeze(target, 'off' + evt)) {\n\t\t\t\toffMethod.call(target, evt, fn);\n\t\t\t\ticicle.unfreeze(target, 'off' + evt);\n\t\t\t}\n\n\t\t\t// if it\u2019s frozen - ignore call\n\t\t\telse {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\n\t\t// forget callback\n\t\tlisteners.remove(target, evt, fn, evtParts);\n\t});\n\n\tif (fn.__wrapFn) {\n\t\tvar cb = fn.__wrapFn;\n\t\tfn.__wrapFn = null;\n\t\toff(target, evt, cb)\n\t}\n\tif (fn.__origFn) {\n\t\tvar cb = fn.__origFn;\n\t\tfn.__origFn = null;\n\t\toff(target, evt, cb)\n\t}\n\n\treturn target;\n}\n", "/**\n * @module emmy/on\n */\n'use strict'\n\nvar icicle = require('icicle');\nvar listeners = require('./listeners');\nvar off = require('./off')\n\nmodule.exports = on;\n\n\n/**\n * Bind fn to a target.\n *\n * @param {*} targte A single target to bind evt\n * @param {string} evt An event name\n * @param {Function} fn A callback\n * @param {Function}? condition An optional filtering fn for a callback\n *                              which accepts an event and returns callback\n *\n * @return {object} A target\n */\nfunction on(target, evt, cb, o = {}) {\n\tif (!target) return target;\n\n\t// wrap delegate\n\tif (typeof target === 'string' || o.target) {\n\t\twhile (cb.__wrapFn) cb = cb.__wrapFn;\n\n\t\tvar selector = target\n\t\ttarget = o.target || document\n\t\tcb.__wrapFn = delegate.bind({ target: target, selector: selector, cb: cb });\n\t\tcb.__wrapFn.__origFn = cb;\n\t\tcb = cb.__wrapFn;\n\t}\n\n\tif (!Array.isArray(evt)) evt = (evt + '').split(/\\s+/)\n\n\t// get target `on` method, if any\n\t// prefer native method name\n\tvar onMethod = target.addEventListener || target.addListener || target.attachEvent || target.on;\n\n\t// invoke method for each space-separated event from a list\n\tevt.forEach(function (evt) {\n\t\tvar evtParts = evt.split('.');\n\t\tevt = evtParts.shift();\n\n\t\t// use target event system, if possible\n\t\tif (onMethod) {\n\t\t\t// avoid self-recursions\n\t\t\t// if it is frozen - ignore call\n\t\t\t// FIXME: do better by comparing with self\n\t\t\tif (icicle.freeze(target, 'on' + evt)) {\n\t\t\t\tonMethod.call(target, evt, cb);\n\t\t\t\ticicle.unfreeze(target, 'on' + evt);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\n\t\t// save the callback\n\t\tlisteners.add(target, evt, cb, evtParts);\n\t});\n\n\treturn function () { off(target, evt, cb) };\n}\n\nfunction delegate(e) {\n\tvar cb = this.cb;\n\tvar selector = this.selector;\n\tvar container = this.target;\n\n\tvar srcEl = e.target;\n\n\t//deny self instantly\n\tif (srcEl === container) {\n\t\treturn;\n\t}\n\n\t//wrap to detect list of selectors\n\tif (!Array.isArray(selector)) {\n\t\tselector = [selector];\n\t}\n\n\tif (selector.some(function (selector) {\n\t\tvar delegateTarget;\n\t\tif (typeof selector != 'string') {\n\t\t\tif (!selector.contains(srcEl)) return false;\n\t\t\tdelegateTarget = selector;\n\t\t}\n\t\t//find at least one element in-between delegate target and event source\n\t\telse {\n\t\t\tdelegateTarget = srcEl.closest && srcEl.closest(selector);\n\t\t}\n\n\t\tif (delegateTarget && container !== delegateTarget && container.contains(delegateTarget)) {\n\t\t\t//save source of event\n\t\t\te.delegateTarget = delegateTarget;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t})) {\n\t\tcb.apply(srcEl, arguments)\n\t}\n}\n", "/**\n * @module emmy/emit\n */\nvar icicle = require('icicle');\nvar listeners = require('./listeners');\n\n\n/**\n * A simple wrapper to handle stringy/plain events\n */\nmodule.exports = function (target, evt, a, b){\n\tif (!target) return;\n\n\tvar args = arguments;\n\n\t// event string\n\tif (typeof evt === 'string') {\n\t\targs = [].slice.call(arguments, 2);\n\t\tevt.split(/\\s+/).forEach(function(evt){\n\t\t\temit.apply(this, [target, evt].concat(args));\n\t\t});\n\n\t\treturn target\n\t}\n\n\t// Event instance\n\treturn emit.apply(this, args);\n};\n\n\n/** detect env */\nvar $ = typeof jQuery === 'undefined' ? undefined : jQuery;\nvar doc = typeof document === 'undefined' ? undefined : document;\nvar win = typeof window === 'undefined' ? undefined : window;\n\n\n/**\n * Emit an event, optionally with data or bubbling\n * Accept only single elements/events\n *\n * @param {string} eventName An event name, e. g. 'click'\n * @param {*} data Any data to pass to event.details (DOM) or event.data (elsewhere)\n * @param {bool} bubbles Whether to trigger bubbling event (DOM)\n *\n *\n * @return {target} a target\n */\nfunction emit(target, eventName, data, bubbles){\n\tvar emitMethod, evt = eventName;\n\n\t//Create proper event for DOM objects\n\tif (doc && ((target instanceof Node) || target === win)) {\n\t\t//NOTE: this doesnot bubble on off-DOM elements\n\n\t\tif (doc && eventName instanceof Event) {\n\t\t\tevt = eventName;\n\t\t} else {\n\t\t\t//IE9-compliant constructor\n\t\t\tevt = doc.createEvent('CustomEvent');\n\t\t\tevt.initCustomEvent(eventName, bubbles, true, data);\n\n\t\t\t//a modern constructor would be:\n\t\t\t// var evt = new CustomEvent(eventName, { detail: data, bubbles: bubbles })\n\t\t}\n\n\t\temitMethod = target.dispatchEvent;\n\t}\n\n\t//create event for jQuery object\n\telse if ($ && target instanceof $) {\n\t\t//TODO: decide how to pass data\n\t\tevt = $.Event( eventName, data );\n\t\tevt.detail = data;\n\n\t\t//FIXME: reference case where triggerHandler needed (something with multiple calls)\n\t\temitMethod = bubbles ? targte.trigger : target.triggerHandler;\n\t}\n\n\t//detect target events\n\telse {\n\t\t//emit - default\n\t\t//trigger - jquery\n\t\t//dispatchEvent - DOM\n\t\t//raise - node-state\n\t\t//fire - ???\n\t\temitMethod = target.dispatchEvent || target.emit || target.trigger || target.fire || target.raise;\n\t}\n\n\tvar args = [].slice.call(arguments, 2);\n\n\t//use locks to avoid self-recursion on objects wrapping this method\n\tif (emitMethod) {\n\t\tif (icicle.freeze(target, 'emit' + eventName)) {\n\t\t\t//use target event system, if possible\n\t\t\temitMethod.apply(target, [evt].concat(args));\n\t\t\ticicle.unfreeze(target, 'emit' + eventName);\n\n\t\t\treturn target;\n\t\t}\n\n\t\t//if event was frozen - probably it is emitter instance\n\t\t//so perform normal callback\n\t}\n\n\t// invoke method for each space-separated event from a list\n\tvar evtParts = evt.split('.');\n\tevt = evtParts.shift();\n\n\t//fall back to default event system\n\tvar evtCallbacks = listeners.get(target, evt, evtParts);\n\n\t//copy callbacks to fire because list can be changed by some callback (like `off`)\n\tvar fireList = evtCallbacks.slice();\n\tfor (var i = 0; i < fireList.length; i++ ) {\n\t\tfireList[i] && fireList[i].apply(target, args);\n\t}\n\n\treturn target;\n}\n", "module.exports.on = require('./on')\nmodule.exports.off = require('./off')\nmodule.exports.emit = require('./emit')\n", "/**\r\n * Get clientY/clientY from an event.\r\n * If index is passed, treat it as index of global touches, not the targetTouches.\r\n * Global touches include target touches.\r\n *\r\n * @module get-client-xy\r\n *\r\n * @param {Event} e Event raised, like mousemove\r\n *\r\n * @return {number} Coordinate relative to the screen\r\n */\r\nfunction getClientY (e, idx) {\r\n\t// touch event\r\n\tif (e.touches) {\r\n\t\tif (arguments.length > 1) {\r\n\t\t\treturn findTouch(e.touches, idx).clientY\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn e.targetTouches[0].clientY;\r\n\t\t}\r\n\t}\r\n\r\n\t// mouse event\r\n\treturn e.clientY;\r\n}\r\nfunction getClientX (e, idx) {\r\n\t// touch event\r\n\tif (e.touches) {\r\n\t\tif (arguments.length > idx) {\r\n\t\t\treturn findTouch(e.touches, idx).clientX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn e.targetTouches[0].clientX;\r\n\t\t}\r\n\t}\r\n\r\n\t// mouse event\r\n\treturn e.clientX;\r\n}\r\n\r\nfunction getClientXY (e, idx) {\r\n\treturn [getClientX.apply(this, arguments), getClientY.apply(this, arguments)];\r\n}\r\n\r\nfunction findTouch (touchList, idx) {\r\n\tfor (var i = 0; i < touchList.length; i++) {\r\n\t\tif (touchList[i].identifier === idx) {\r\n\t\t\treturn touchList[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\ngetClientXY.x = getClientX;\r\ngetClientXY.y = getClientY;\r\ngetClientXY.findTouch = findTouch;\r\n\r\nmodule.exports = getClientXY;", "/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isPrimitive(val) {\n  if (typeof val === 'object') {\n    return val === null;\n  }\n  return typeof val !== 'function';\n};\n", "/**\r\n * @module  st8\r\n *\r\n * Micro state machine.\r\n */\r\n'use strict'\r\n\r\n\r\nvar isPrimitive = require('is-primitive')\r\n\r\n\r\n// API constants\r\nState.OTHERWISE = '_'\r\nState.ENTER = 'enter'\r\nState.EXIT = 'exit'\r\n\r\n\r\n/**\r\n * Create a new state controller based on states passed\r\n *\r\n * @constructor\r\n *\r\n * @param {object} settings Initial states\r\n */\r\n\r\nfunction State(states, context){\r\n\t//ignore existing state\r\n\tif (states instanceof State) return states;\r\n\r\n\t//ensure new state instance is created\r\n\tif (!(this instanceof State)) return new State(states);\r\n\r\n\t//save states object\r\n\tthis.states = states || {};\r\n\r\n\t//save context\r\n\tthis.context = context || this;\r\n\r\n\t//initedFlag\r\n\tthis.inited = false;\r\n}\r\n\r\n\r\n/**\r\n * Go to a state\r\n *\r\n * @param {*} value Any new state to enter\r\n */\r\n\r\nState.prototype.set = function (value) {\r\n\tvar prevValue = this.state, states = this.states;\r\n\tvar ENTER = State.ENTER, EXIT = State.EXIT, OTHERWISE = State.OTHERWISE\r\n\t// console.group('set', value, prevValue);\r\n\r\n\t//leave old state\r\n\tvar oldStateName = states[prevValue] !== undefined ? prevValue : OTHERWISE\r\n\tvar oldState = states[oldStateName];\r\n\r\n\tvar leaveResult, leaveFlag = EXIT + oldStateName;\r\n\tif (this.inited) {\r\n\t\tif (oldState) {\r\n\t\t\tif (!this[leaveFlag]) {\r\n\t\t\t\tthis[leaveFlag] = true;\r\n\r\n\t\t\t\t//if oldState has after method - call it\r\n\t\t\t\tleaveResult = oldState[EXIT] && oldState[EXIT].call ?\r\n\t\t\t\t\t\toldState[EXIT].call(this.context) :\r\n\t\t\t\t\toldState[1] && oldState[1].call ?\r\n\t\t\t\t\t\toldState[1].call(this.context) : oldState[EXIT]\r\n\r\n\t\t\t\t//ignore changing if leave result is falsy\r\n\t\t\t\tif (leaveResult === false) {\r\n\t\t\t\t\tthis[leaveFlag] = false;\r\n\t\t\t\t\t// console.groupEnd();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//redirect, if returned anything\r\n\t\t\t\telse if (leaveResult !== undefined && leaveResult !== value) {\r\n\t\t\t\t\tthis.set(leaveResult);\r\n\t\t\t\t\tthis[leaveFlag] = false;\r\n\t\t\t\t\t// console.groupEnd();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis[leaveFlag] = false;\r\n\r\n\t\t\t\t//ignore redirect\r\n\t\t\t\tif (this.state !== prevValue) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//ignore not changed value\r\n\t\tif (value === prevValue) return false;\r\n\t}\r\n\telse {\r\n\t\tthis.inited = true;\r\n\t}\r\n\r\n\t//set current value\r\n\tthis.state = value;\r\n\r\n\r\n\t//try to enter new state\r\n\tvar newStateName = states.hasOwnProperty(value) ? value : OTHERWISE\r\n\tvar newState = states[newStateName];\r\n\tvar enterResult;\r\n\tvar enterFlag = ENTER + newStateName;\r\n\r\n\tif (!this[enterFlag]) {\r\n\t\tthis[enterFlag] = true;\r\n\r\n\t\tif (newState) {\r\n\t\t\t// enter pure function\r\n\t\t\tif (newState.call) {\r\n\t\t\t\tenterResult = newState.call(this.context)\r\n\t\t\t}\r\n\t\t\t// enter array\r\n\t\t\telse if (Array.isArray(newState)) {\r\n\t\t\t\tenterResult = (newState[0] && newState[0].call) ? newState[0].call(this.context, this) : newState[0]\r\n\t\t\t}\r\n\t\t\t// enter object with enter method\r\n\t\t\telse if (newState.hasOwnProperty(ENTER)) {\r\n\t\t\t\tenterResult = newState[ENTER].call ? newState[ENTER].call(this.context) : newState[ENTER];\r\n\t\t\t}\r\n\t\t\telse if (isPrimitive(newState)) {\r\n\t\t\t\tenterResult = newState\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tenterResult = newState\r\n\t\t}\r\n\r\n\t\t//ignore entering falsy state\r\n\t\tif (enterResult === false) {\r\n\t\t\tthis.set(prevValue);\r\n\t\t\tthis[enterFlag] = false;\r\n\t\t\t// console.groupEnd();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t//redirect if returned anything but current state\r\n\t\telse if (enterResult !== undefined && enterResult !== value) {\r\n\t\t\tthis.set(enterResult);\r\n\t\t\tthis[enterFlag] = false;\r\n\t\t\t// console.groupEnd();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis[enterFlag] = false;\r\n\t}\r\n\r\n\t// console.groupEnd();\r\n\r\n\t//return context to chain calls\r\n\treturn this.context;\r\n};\r\n\r\n\r\n/** Get current state */\r\n\r\nState.prototype.get = function(){\r\n\treturn this.state;\r\n};\r\n\r\nmodule.exports = State;\r\n", "/**\r\n * Define stateful property on an object\r\n */\r\nmodule.exports = defineState;\r\n\r\nvar State = require('st8');\r\n\tState.ENTER = 'before'\r\n\tState.EXIT = 'after'\r\n\r\n/**\r\n * Define stateful property on a target\r\n *\r\n * @param {object} target Any object\r\n * @param {string} property Property name\r\n * @param {object} descriptor State descriptor\r\n *\r\n * @return {object} target\r\n */\r\nfunction defineState (target, property, descriptor, isFn) {\r\n\t//define accessor on a target\r\n\tif (isFn) {\r\n\t\ttarget[property] = function () {\r\n\t\t\tif (arguments.length) {\r\n\t\t\t\treturn state.set(arguments[0]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn state.get();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t//define setter/getter on a target\r\n\telse {\r\n\t\tObject.defineProperty(target, property, {\r\n\t\t\tset: function (value) {\r\n\t\t\t\treturn state.set(value);\r\n\t\t\t},\r\n\t\t\tget: function () {\r\n\t\t\t\treturn state.get();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//define state controller\r\n\tvar state = new State(descriptor, target);\r\n\r\n\treturn target;\r\n}\r\n", "import css from 'mucss/css';\nimport parseCSSValue from 'mucss/parse-value';\nimport selection from 'mucss/selection';\nimport offsets from 'mucss/offset';\nimport getTranslate from 'mucss/translate';\nimport isFixed from 'mucss/is-fixed';\n\nimport { on, off, emit } from 'emmy';\nimport { x as getClientX, y as getClientY } from 'get-client-xy';\n\nimport defineState from 'define-state';\n\n\nconst win = window, doc = document, root = doc.documentElement;\n\n/**\n * Draggable controllers associated with elements.\n *\n * Storing them on elements is\n * - leak-prone,\n * - pollutes element\u2019s namespace,\n * - requires some artificial key to store,\n * - unable to retrieve controller easily.\n *\n * That is why weakmap.\n */\nconst draggableCache = Draggable.cache = new WeakMap;\n\n\n/**\n * Make an element draggable.\n *\n * @constructor\n *\n * @param {HTMLElement} target An element whether in/out of DOM\n * @param {Object} options An draggable options\n *\n * @return {HTMLElement} Target element\n */\nfunction Draggable(target, options) {\n\tvar that = this;\n\n\t//ignore existing instance\n\tvar instance = draggableCache.get(target);\n\tif (instance) {\n\t\tinstance.state = 'reset';\n\n\t\t//take over options\n\t\tObject.assign(instance, options);\n\n\t\tinstance.update();\n\n\t\treturn instance;\n\t}\n\n\telse {\n\t\t//get unique id for instance\n\t\t//needed to track event binders\n\t\tthat.id = Math.random().toString(36).substring(2, 15)\n\t\tthat._ns = '.draggy_' + that.id;\n\n\t\t//save element passed\n\t\tthat.element = target;\n\n\t\tdraggableCache.set(target, that);\n\t}\n\n\t//define state behaviour\n\tdefineState(that, 'state', that.state);\n\n\t//preset handles\n\tthat.currentHandles = [];\n\n\t//take over options\n\tObject.assign(that, options);\n\n\t//define handle\n\tif (that.handle === undefined) {\n\t\tthat.handle = that.element;\n\t}\n\n\t//setup droppable\n\tif (that.droppable) {\n\t\tthat.initDroppable();\n\t}\n\n\t//try to calc out basic limits\n\tthat.update();\n\n\t//go to initial state\n\tthat.state = 'idle';\n}\n\n/** Add event listener */\nDraggable.prototype.on = function (eventName, callback) {\n\treturn on(this, eventName, callback);\n};\n\n/** Remove event listener */\nDraggable.prototype.off = function (eventName, callback) {\n\treturn off(this, eventName, callback);\n};\n\n//enable css3 by default\nDraggable.prototype.css3 = true;\n\n//both axes by default\nDraggable.prototype.axis = null;\n\n/** Init droppable \"plugin\" */\nDraggable.prototype.initDroppable = function () {\n\tvar that = this;\n\n\ton(that, 'dragstart', function () {\n\t\tvar that = this;\n\t\tthat.dropTargets = q(that.droppable);\n\t});\n\n\ton(that, 'drag', function () {\n\t\tvar that = this;\n\n\t\tif (!that.dropTargets) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar thatRect = offsets(that.element);\n\n\t\tthat.dropTargets.forEach(function (dropTarget) {\n\t\t\tvar targetRect = offsets(dropTarget);\n\n\t\t\tif (intersect(thatRect, targetRect, that.droppableTolerance)) {\n\t\t\t\tif (that.droppableClass) {\n\t\t\t\t\tdropTarget.classList.add(that.droppableClass);\n\t\t\t\t}\n\t\t\t\tif (!that.dropTarget) {\n\t\t\t\t\tthat.dropTarget = dropTarget;\n\n\t\t\t\t\temit(that, 'dragover', dropTarget);\n\t\t\t\t\temit(dropTarget, 'dragover', that);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (that.dropTarget) {\n\t\t\t\t\temit(that, 'dragout', dropTarget);\n\t\t\t\t\temit(dropTarget, 'dragout', that);\n\n\t\t\t\t\tthat.dropTarget = null;\n\t\t\t\t}\n\t\t\t\tif (that.droppableClass) {\n\t\t\t\t\tdropTarget.classList.remove(that.droppableClass);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ton(that, 'dragend', function () {\n\t\tvar that = this;\n\n\t\t//emit drop, if any\n\t\tif (that.dropTarget) {\n\t\t\temit(that.dropTarget, 'drop', that);\n\t\t\temit(that, 'drop', that.dropTarget);\n\t\t\tthat.dropTarget.classList.remove(that.droppableClass);\n\t\t\tthat.dropTarget = null;\n\t\t}\n\t});\n};\n\n/**\n * Draggable behaviour\n * @enum {string}\n * @default is 'idle'\n */\nDraggable.prototype.state = {\n\t//idle\n\t_: {\n\t\tbefore: function () {\n\t\t\tvar that = this;\n\n\t\t\tthat.element.classList.add('draggy-idle');\n\n\t\t\t//emit drag evts on element\n\t\t\temit(that.element, 'idle', null, true);\n\t\t\temit(that, 'idle');\n\n\t\t\t//reset keys\n\t\t\tthat.ctrlKey = false;\n\t\t\tthat.shiftKey = false;\n\t\t\tthat.metaKey = false;\n\t\t\tthat.altKey = false;\n\n\t\t\t//reset movement params\n\t\t\tthat.movementX = 0;\n\t\t\tthat.movementY = 0;\n\t\t\tthat.deltaX = 0;\n\t\t\tthat.deltaY = 0;\n\n\t\t\ton(doc, 'mousedown' + that._ns + ' touchstart' + that._ns, function (e) {\n\t\t\t\t//ignore non-draggy events\n\t\t\t\tif (!e.draggies) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//ignore dragstart for not registered draggies\n\t\t\t\tif (e.draggies.indexOf(that) < 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//if target is focused - ignore drag\n\t\t\t\t//FIXME: detect focused by whitelist of tags, name supposition may be wrong (idk, form elements have names, so likely to be focused by click)\n\t\t\t\tif (e.target.name !== undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//multitouch has multiple starts\n\t\t\t\tthat.setTouch(e);\n\n\t\t\t\t//update movement params\n\t\t\t\tthat.update(e);\n\n\t\t\t\t//go to threshold state\n\t\t\t\tthat.state = 'threshold';\n\t\t\t});\n\t\t},\n\t\tafter: function () {\n\t\t\tvar that = this;\n\n\t\t\tthat.element.classList.remove('draggy-idle');\n\n\t\t\toff(doc, that._ns);\n\n\t\t\t//set up tracking\n\t\t\tif (that.release) {\n\t\t\t\tthat._trackingInterval = setInterval(function (e) {\n\t\t\t\t\tvar now = Date.now();\n\t\t\t\t\tvar elapsed = now - that.timestamp;\n\n\t\t\t\t\t//get delta movement since the last track\n\t\t\t\t\tvar dX = that.prevX - that.frame[0];\n\t\t\t\t\tvar dY = that.prevY - that.frame[1];\n\t\t\t\t\tthat.frame[0] = that.prevX;\n\t\t\t\t\tthat.frame[1] = that.prevY;\n\n\t\t\t\t\tvar delta = Math.sqrt(dX * dX + dY * dY);\n\n\t\t\t\t\t//get speed as average of prev and current (prevent div by zero)\n\t\t\t\t\tvar v = Math.min(that.velocity * delta / (1 + elapsed), that.maxSpeed);\n\t\t\t\t\tthat.speed = 0.8 * v + 0.2 * that.speed;\n\n\t\t\t\t\t//get new angle as a last diff\n\t\t\t\t\t//NOTE: vector average isn\u2019t the same as speed scalar average\n\t\t\t\t\tthat.angle = Math.atan2(dY, dX);\n\n\t\t\t\t\temit(that, 'track');\n\n\t\t\t\t\treturn that;\n\t\t\t\t}, that.framerate);\n\t\t\t}\n\t\t}\n\t},\n\n\tthreshold: {\n\t\tbefore: function () {\n\t\t\tvar that = this;\n\n\t\t\t//ignore threshold state, if threshold is none\n\t\t\tif (isZeroArray(that.threshold)) {\n\t\t\t\tthat.state = 'drag';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthat.element.classList.add('draggy-threshold');\n\n\t\t\t//emit drag evts on element\n\t\t\temit(that, 'threshold');\n\t\t\temit(that.element, 'threshold');\n\n\t\t\t//listen to doc movement\n\t\t\ton(doc, 'touchmove' + that._ns + ' mousemove' + that._ns, function (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t//compare movement to the threshold\n\t\t\t\tvar clientX = getClientX(e, that.touchIdx);\n\t\t\t\tvar clientY = getClientY(e, that.touchIdx);\n\t\t\t\tvar difX = that.prevMouseX - clientX;\n\t\t\t\tvar difY = that.prevMouseY - clientY;\n\n\t\t\t\tif (difX < that.threshold[0] || difX > that.threshold[2] || difY < that.threshold[1] || difY > that.threshold[3]) {\n\t\t\t\t\tthat.update(e);\n\t\t\t\t\tthat.state = 'drag';\n\t\t\t\t}\n\t\t\t});\n\t\t\ton(doc, 'mouseup' + that._ns + ' touchend' + that._ns + '', function (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t//forget touches\n\t\t\t\tthat.resetTouch();\n\n\t\t\t\tthat.state = 'idle';\n\t\t\t});\n\t\t},\n\n\t\tafter: function () {\n\t\t\tvar that = this;\n\n\t\t\tthat.element.classList.remove('draggy-threshold');\n\n\t\t\toff(doc, that._ns);\n\t\t}\n\t},\n\n\tdrag: {\n\t\tbefore: function () {\n\t\t\tvar that = this;\n\n\t\t\t//reduce dragging clutter\n\t\t\tselection.disable(root);\n\n\t\t\tthat.element.classList.add('draggy-drag');\n\n\t\t\t//emit drag evts on element\n\t\t\temit(that, 'dragstart');\n\t\t\temit(that.element, 'dragstart', null, true);\n\n\t\t\t//emit drag events on that\n\t\t\temit(that, 'drag');\n\t\t\temit(that.element, 'drag', null, true);\n\n\t\t\t//stop drag on leave\n\t\t\ton(doc, 'touchend' + that._ns + ' mouseup' + that._ns + ' mouseleave' + that._ns, function (e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t//forget touches - dragend is called once\n\t\t\t\tthat.resetTouch();\n\n\t\t\t\t//manage release movement\n\t\t\t\tif (that.speed > 1) {\n\t\t\t\t\tthat.state = 'release';\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tthat.state = 'idle';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//move via transform\n\t\t\ton(doc, 'touchmove' + that._ns + ' mousemove' + that._ns, function (e) {\n\t\t\t\tthat.drag(e);\n\t\t\t});\n\t\t},\n\n\t\tafter: function () {\n\t\t\tvar that = this;\n\n\t\t\t//enable document interactivity\n\t\t\tselection.enable(root);\n\n\t\t\tthat.element.classList.remove('draggy-drag');\n\n\t\t\t//emit dragend on element, this\n\t\t\temit(that, 'dragend');\n\t\t\temit(that.element, 'dragend', null, true);\n\n\t\t\t//unbind drag events\n\t\t\toff(doc, that._ns);\n\n\t\t\tclearInterval(that._trackingInterval);\n\t\t}\n\t},\n\n\trelease: {\n\t\tbefore: function () {\n\t\t\tvar that = this;\n\n\t\t\tthat.element.classList.add('draggy-release');\n\n\t\t\t//enter animation mode\n\t\t\tclearTimeout(that._animateTimeout);\n\n\t\t\t//set proper transition\n\t\t\tcss(that.element, {\n\t\t\t\t'transition': (that.releaseDuration) + 'ms ease-out ' + (that.css3 ? 'transform' : 'position')\n\t\t\t});\n\n\t\t\t//plan leaving anim mode\n\t\t\tthat._animateTimeout = setTimeout(function () {\n\t\t\t\tthat.state = 'idle';\n\t\t\t}, that.releaseDuration);\n\n\n\t\t\t//calc target point & animate to it\n\t\t\tthat.move(\n\t\t\t\tthat.prevX + that.speed * Math.cos(that.angle),\n\t\t\t\tthat.prevY + that.speed * Math.sin(that.angle)\n\t\t\t);\n\n\t\t\tthat.speed = 0;\n\t\t\temit(that, 'track');\n\t\t},\n\n\t\tafter: function () {\n\t\t\tvar that = this;\n\n\t\t\tthat.element.classList.remove('draggy-release');\n\n\t\t\tcss(this.element, {\n\t\t\t\t'transition': null\n\t\t\t});\n\t\t}\n\t},\n\n\treset: function () {\n\t\tvar that = this;\n\n\t\tthat.currentHandles.forEach(function (handle) {\n\t\t\toff(handle, that._ns);\n\t\t});\n\n\t\tclearTimeout(that._animateTimeout);\n\n\t\toff(doc, that._ns);\n\t\toff(that.element, that._ns);\n\n\t\treturn '_';\n\t}\n};\n\n/** Drag handler. Needed to provide drag movement emulation via API */\nDraggable.prototype.drag = function (e) {\n\tvar that = this;\n\n\te.preventDefault();\n\n\tvar mouseX = getClientX(e, that.touchIdx),\n\t\tmouseY = getClientY(e, that.touchIdx);\n\n\t//calc mouse movement diff\n\tvar diffMouseX = mouseX - that.prevMouseX,\n\t\tdiffMouseY = mouseY - that.prevMouseY;\n\n\t//absolute mouse coordinate\n\tvar mouseAbsX = mouseX,\n\t\tmouseAbsY = mouseY;\n\n\t//if we are not fixed, our absolute position is relative to the doc\n\tif (!that._isFixed) {\n\t\tmouseAbsX += win.pageXOffset;\n\t\tmouseAbsY += win.pageYOffset;\n\t}\n\n\t//calc sniper offset, if any\n\tif (e.ctrlKey || e.metaKey) {\n\t\tthat.sniperOffsetX += diffMouseX * that.sniperSlowdown;\n\t\tthat.sniperOffsetY += diffMouseY * that.sniperSlowdown;\n\t}\n\n\t//save refs to the meta keys\n\tthat.ctrlKey = e.ctrlKey;\n\tthat.shiftKey = e.shiftKey;\n\tthat.metaKey = e.metaKey;\n\tthat.altKey = e.altKey;\n\n\t//calc movement x and y\n\t//take absolute placing as it is the only reliable way (2x proved)\n\tvar x = (mouseAbsX - that.initOffsetX) - that.innerOffsetX - that.sniperOffsetX,\n\t\ty = (mouseAbsY - that.initOffsetY) - that.innerOffsetY - that.sniperOffsetY;\n\n\t//move element\n\tthat.move(x, y);\n\n\t//save prevClientXY for calculating diff\n\tthat.prevMouseX = mouseX;\n\tthat.prevMouseY = mouseY;\n\n\t//emit drag\n\temit(that, 'drag');\n\temit(that.element, 'drag', null, true);\n};\n\n/** Current number of draggable touches */\nvar touches = 0;\n\n/** Manage touches */\nDraggable.prototype.setTouch = function (e) {\n\tif (!e.touches || this.isTouched()) return this;\n\n\t//current touch index\n\tthis.touchIdx = touches;\n\ttouches++;\n\n\treturn this;\n};\nDraggable.prototype.resetTouch = function () {\n\ttouches = 0;\n\tthis.touchIdx = null;\n\n\treturn this;\n};\nDraggable.prototype.isTouched = function () {\n\treturn this.touchIdx !== null;\n};\n\n/** Index to fetch touch number from event */\nDraggable.prototype.touchIdx = null;\n\n/**\n * Update movement limits.\n * Refresh that.withinOffsets and that.limits.\n */\nDraggable.prototype.update = function (e) {\n\tvar that = this;\n\n\tthat._isFixed = isFixed(that.element);\n\n\t//enforce abs position\n\tif (!that.css3) {\n\t\tcss(this.element, 'position', 'absolute');\n\t}\n\n\t//update handles\n\tthat.currentHandles.forEach(function (handle) {\n\t\toff(handle, that._ns);\n\t});\n\n\tvar cancelEls = q(that.cancel);\n\n\tthat.currentHandles = q(that.handle);\n\n\tthat.currentHandles.forEach(function (handle) {\n\t\ton(handle, 'mousedown' + that._ns + ' touchstart' + that._ns, function (e) {\n\t\t\t//mark event as belonging to the draggy\n\t\t\tif (!e.draggies) {\n\t\t\t\te.draggies = [];\n\t\t\t}\n\n\t\t\t//ignore draggies containing other draggies\n\t\t\tif (e.draggies.some(function (draggy) {\n\t\t\t\treturn that.element.contains(draggy.element);\n\t\t\t})) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//ignore events happened within cancelEls\n\t\t\tif (cancelEls.some(function (cancelEl) {\n\t\t\t\treturn cancelEl.contains(e.target);\n\t\t\t})) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//register draggy\n\t\t\te.draggies.push(that);\n\t\t});\n\t});\n\n\t//update limits\n\tthat.updateLimits();\n\n\t//preset inner offsets\n\tthat.innerOffsetX = that.pin[0];\n\tthat.innerOffsetY = that.pin[1];\n\n\tvar thatClientRect = that.element.getBoundingClientRect();\n\n\t//if event passed - update acc to event\n\tif (e) {\n\t\t//take last mouse position from the event\n\t\tthat.prevMouseX = getClientX(e, that.touchIdx);\n\t\tthat.prevMouseY = getClientY(e, that.touchIdx);\n\n\t\t//if mouse is within the element - take offset normally as rel displacement\n\t\tthat.innerOffsetX = -thatClientRect.left + getClientX(e, that.touchIdx);\n\t\tthat.innerOffsetY = -thatClientRect.top + getClientY(e, that.touchIdx);\n\t}\n\t//if no event - suppose pin-centered event\n\telse {\n\t\t//take mouse position & inner offset as center of pin\n\t\tvar pinX = (that.pin[0] + that.pin[2]) * 0.5;\n\t\tvar pinY = (that.pin[1] + that.pin[3]) * 0.5;\n\t\tthat.prevMouseX = thatClientRect.left + pinX;\n\t\tthat.prevMouseY = thatClientRect.top + pinY;\n\t\tthat.innerOffsetX = pinX;\n\t\tthat.innerOffsetY = pinY;\n\t}\n\n\t//set initial kinetic props\n\tthat.speed = 0;\n\tthat.amplitude = 0;\n\tthat.angle = 0;\n\tthat.timestamp = +new Date();\n\tthat.frame = [that.prevX, that.prevY];\n\n\t//set sniper offset\n\tthat.sniperOffsetX = 0;\n\tthat.sniperOffsetY = 0;\n};\n\n/**\n * Update limits only from current position\n */\nDraggable.prototype.updateLimits = function () {\n\tvar that = this;\n\n\t//initial translation offsets\n\tvar initXY = that.getCoords();\n\n\t//calc initial coords\n\tthat.prevX = initXY[0];\n\tthat.prevY = initXY[1];\n\tthat.initX = initXY[0];\n\tthat.initY = initXY[1];\n\n\t//container rect might be outside the vp, so calc absolute offsets\n\t//zero-position offsets, with translation(0,0)\n\tvar thatOffsets = offsets(that.element);\n\n\tthat.initOffsetX = thatOffsets.left - that.prevX;\n\tthat.initOffsetY = thatOffsets.top - that.prevY;\n\tthat.offsets = thatOffsets;\n\n\t//handle parent case\n\tvar within = that.within;\n\tif (that.within === 'parent' || that.within === true) {\n\t\twithin = that.element.parentNode;\n\t}\n\twithin = within || doc;\n\n\t//absolute offsets of a container\n\tvar withinOffsets = offsets(within);\n\n\tif (within === win && that._isFixed) {\n\t\twithinOffsets.top -= win.pageYOffset;\n\t\twithinOffsets.left -= win.pageXOffset;\n\t\twithinOffsets.bottom -= win.pageYOffset;\n\t\twithinOffsets.right -= win.pageXOffset;\n\t}\n\tthat.withinOffsets = withinOffsets;\n\n\t//calculate movement limits - pin width might be wider than constraints\n\tthat.overflowX = that.pin.width - withinOffsets.width;\n\tthat.overflowY = that.pin.height - withinOffsets.height;\n\n\tthat.limits = {\n\t\tleft: withinOffsets.left - that.initOffsetX - that.pin[0] - (that.overflowX < 0 ? 0 : that.overflowX),\n\t\ttop: withinOffsets.top - that.initOffsetY - that.pin[1] - (that.overflowY < 0 ? 0 : that.overflowY),\n\t\tright: that.overflowX > 0 ? 0 : withinOffsets.right - that.initOffsetX - that.pin[2],\n\t\tbottom: (that.overflowY > 0 ? 0 : withinOffsets.bottom - that.initOffsetY - that.pin[3])\n\t};\n};\n\n/**\n * Update info regarding of movement\n */\nDraggable.prototype.updateInfo = function (x, y) {\n\tvar that = this;\n\n\t//provide delta from prev state\n\tthat.deltaX = x - that.prevX;\n\tthat.deltaY = y - that.prevY;\n\n\t//save prev coords to use as a start point next time\n\tthat.prevX = x;\n\tthat.prevY = y;\n\n\t//provide movement delta from initial state\n\tthat.movementX = x - that.initX;\n\tthat.movementY = y - that.initY;\n\n}\n\n/**\n * Way of placement:\n * - css3 === false (slower but more precise and cross-browser)\n * - css3 === true (faster but may cause blurs on linux systems)\n */\nDraggable.prototype.getCoords = function () {\n\tif (!this.css3) {\n\t\t// return [this.element.offsetLeft, this.element.offsetTop];\n\t\treturn [parseCSSValue(css(this.element, 'left')), parseCSSValue(css(this.element, 'top'))];\n\t}\n\telse {\n\t\treturn getTranslate(this.element).slice(0, 2) || [0, 0];\n\t}\n};\nDraggable.prototype.setCoords = function (x, y) {\n\tif (this.css3) {\n\t\tif (x == null) x = this.prevX;\n\t\tif (y == null) y = this.prevY;\n\n\t\tx = round(x, this.precision);\n\t\ty = round(y, this.precision);\n\n\t\tcss(this.element, 'transform', ['translate3d(', x, 'px,', y, 'px, 0)'].join(''));\n\n\t\tthis.updateInfo(x, y);\n\t}\n\telse {\n\t\tif (x == null) x = this.prevX;\n\t\tif (y == null) y = this.prevY;\n\n\t\tx = round(x, this.precision);\n\t\ty = round(y, this.precision);\n\n\t\tcss(this.element, {\n\t\t\tleft: x,\n\t\t\ttop: y\n\t\t});\n\n\t\t//update movement info\n\t\tthis.updateInfo(x, y);\n\t}\n};\n\n/**\n * Restricting container\n * @type {Element|object}\n * @default doc.documentElement\n */\nDraggable.prototype.within = doc;\n\n/** Handle to drag */\nDraggable.prototype.handle;\n\nObject.defineProperties(Draggable.prototype, {\n\t/**\n\t * Which area of draggable should not be outside the restriction area.\n\t * @type {(Array|number)}\n\t * @default [0,0,this.element.offsetWidth, this.element.offsetHeight]\n\t */\n\tpin: {\n\t\tset: function (value) {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tif (value.length === 2) {\n\t\t\t\t\tthis._pin = [value[0], value[1], value[0], value[1]];\n\t\t\t\t} else if (value.length === 4) {\n\t\t\t\t\tthis._pin = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if (typeof value === 'number') {\n\t\t\t\tthis._pin = [value, value, value, value];\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tthis._pin = value;\n\t\t\t}\n\n\t\t\t//calc pin params\n\t\t\tthis._pin.width = this._pin[2] - this._pin[0];\n\t\t\tthis._pin.height = this._pin[3] - this._pin[1];\n\t\t},\n\n\t\tget: function () {\n\t\t\tif (this._pin) return this._pin;\n\n\t\t\t//returning autocalculated pin, if private pin is none\n\t\t\tvar pin = [0, 0, this.offsets.width, this.offsets.height];\n\t\t\tpin.width = this.offsets.width;\n\t\t\tpin.height = this.offsets.height;\n\t\t\treturn pin;\n\t\t}\n\t},\n\n\t/** Avoid initial mousemove */\n\tthreshold: {\n\t\tset: function (val) {\n\t\t\tif (typeof val === 'number') {\n\t\t\t\tthis._threshold = [-val * 0.5, -val * 0.5, val * 0.5, val * 0.5];\n\t\t\t} else if (val.length === 2) {\n\t\t\t\t//Array(w,h)\n\t\t\t\tthis._threshold = [-val[0] * 0.5, -val[1] * 0.5, val[0] * 0.5, val[1] * 0.5];\n\t\t\t} else if (val.length === 4) {\n\t\t\t\t//Array(x1,y1,x2,y2)\n\t\t\t\tthis._threshold = val;\n\t\t\t} else if (typeof (val) === 'function') {\n\t\t\t\t//custom val funciton\n\t\t\t\tthis._threshold = val();\n\t\t\t} else {\n\t\t\t\tthis._threshold = [0, 0, 0, 0];\n\t\t\t}\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn this._threshold || [0, 0, 0, 0];\n\t\t}\n\t}\n});\n\n\n/**\n * For how long to release movement\n *\n * @type {(number|false)}\n * @default false\n * @todo\n */\nDraggable.prototype.release = false;\nDraggable.prototype.releaseDuration = 500;\nDraggable.prototype.velocity = 1000;\nDraggable.prototype.maxSpeed = 250;\nDraggable.prototype.framerate = 50;\n\n/** To what extent round position */\nDraggable.prototype.precision = 1;\n\n/** Droppable params */\nDraggable.prototype.droppable = null;\nDraggable.prototype.droppableTolerance = 0.5;\nDraggable.prototype.droppableClass = null;\n\n/** Slow down movement by pressing ctrl/cmd */\nDraggable.prototype.sniper = true;\n\n/** How much to slow sniper drag */\nDraggable.prototype.sniperSlowdown = .85;\n\n\n/**\n * Restrict movement by axis\n *\n * @default undefined\n * @enum {string}\n */\nDraggable.prototype.move = function (x, y) {\n\tif (this.axis === 'x') {\n\t\tif (x == null) x = this.prevX;\n\t\tif (y == null) y = this.prevY;\n\n\t\tvar limits = this.limits;\n\n\t\tif (this.repeat) {\n\t\t\tvar w = (limits.right - limits.left);\n\t\t\tvar oX = - this.initOffsetX + this.withinOffsets.left - this.pin[0] - Math.max(0, this.overflowX);\n\t\t\tx = loop(x - oX, w) + oX;\n\t\t} else {\n\t\t\tx = clamp(x, limits.left, limits.right);\n\t\t}\n\n\t\tthis.setCoords(x);\n\t}\n\telse if (this.axis === 'y') {\n\t\tif (x == null) x = this.prevX;\n\t\tif (y == null) y = this.prevY;\n\n\t\tvar limits = this.limits;\n\n\t\tif (this.repeat) {\n\t\t\tvar h = (limits.bottom - limits.top);\n\t\t\tvar oY = - this.initOffsetY + this.withinOffsets.top - this.pin[1] - Math.max(0, this.overflowY);\n\t\t\ty = loop(y - oY, h) + oY;\n\t\t} else {\n\t\t\ty = clamp(y, limits.top, limits.bottom);\n\t\t}\n\n\t\tthis.setCoords(null, y);\n\t}\n\telse {\n\t\tif (x == null) x = this.prevX;\n\t\tif (y == null) y = this.prevY;\n\n\t\tvar limits = this.limits;\n\n\t\tif (this.repeat) {\n\t\t\tvar w = (limits.right - limits.left);\n\t\t\tvar h = (limits.bottom - limits.top);\n\t\t\tvar oX = - this.initOffsetX + this.withinOffsets.left - this.pin[0] - Math.max(0, this.overflowX);\n\t\t\tvar oY = - this.initOffsetY + this.withinOffsets.top - this.pin[1] - Math.max(0, this.overflowY);\n\t\t\tif (this.repeat === 'x') {\n\t\t\t\tx = loop(x - oX, w) + oX;\n\t\t\t}\n\t\t\telse if (this.repeat === 'y') {\n\t\t\t\ty = loop(y - oY, h) + oY;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx = loop(x - oX, w) + oX;\n\t\t\t\ty = loop(y - oY, h) + oY;\n\t\t\t}\n\t\t}\n\n\t\tx = clamp(x, limits.left, limits.right);\n\t\ty = clamp(y, limits.top, limits.bottom);\n\n\t\tthis.setCoords(x, y);\n\t}\n};\n\n/** Repeat movement by one of axises */\nDraggable.prototype.repeat = false;\n\n/** Clean all memory-related things */\nDraggable.prototype.destroy = function () {\n\tvar that = this;\n\n\tthat.currentHandles.forEach(function (handle) {\n\t\toff(handle, that._ns);\n\t});\n\n\tthat.state = 'destroy';\n\n\tclearTimeout(that._animateTimeout);\n\n\toff(doc, that._ns);\n\toff(that.element, that._ns);\n\n\n\tthat.element = null;\n\tthat.within = null;\n};\n\n\n\n// helpers\n// Check whether arr is filled with zeros\nfunction isZeroArray(arr) {\n\tif (!arr[0] && !arr[1] && !arr[2] && !arr[3]) return true;\n}\n\n// query els\nfunction q(str) {\n\tif (Array.isArray(str)) {\n\t\treturn str.map(q).reduce(function (prev, curr) { return prev.concat(curr); }, []);\n\t}\n\telse if (str instanceof HTMLElement) {\n\t\treturn [str];\n\t}\n\telse {\n\t\treturn [].slice.call(document.querySelectorAll(str));\n\t}\n}\n\n// rect intersection function with tolerance\nfunction intersect(rect1, rect2, tolerance = 0) {\n\tconst overlapX = Math.max(0, Math.min(rect1.right, rect2.right) - Math.max(rect1.left, rect2.left));\n\tconst overlapY = Math.max(0, Math.min(rect1.bottom, rect2.bottom) - Math.max(rect1.top, rect2.top));\n\tconst overlapArea = overlapX * overlapY;\n\n\tconst rect1Area = (rect1.right - rect1.left) * (rect1.bottom - rect1.top);\n\tconst rect2Area = (rect2.right - rect2.left) * (rect2.bottom - rect2.top);\n\tconst smallerArea = Math.min(rect1Area, rect2Area);\n\n\treturn overlapArea >= tolerance * smallerArea;\n}\n\n// maths\nfunction loop(value, left, right) {\n\t//detect single-arg case, like mod-loop or fmod\n\tif (right === undefined) {\n\t\tright = left;\n\t\tleft = 0;\n\t}\n\n\t//swap frame order\n\tif (left > right) {\n\t\tvar tmp = right;\n\t\tright = left;\n\t\tleft = tmp;\n\t}\n\n\tvar frame = right - left;\n\n\tvalue = ((value + left) % frame) - left;\n\tif (value < left) value += frame;\n\tif (value > right) value -= frame;\n\n\treturn value;\n};\n\nfunction clamp(value, min, max) {\n\treturn Math.max(min, Math.min(value, max));\n}\n\nfunction round(value, step) {\n\tif (step === 0) return value;\n\tif (!step) return Math.round(value);\n\tstep = parseFloat(step);\n\tvalue = Math.round(value / step) * step;\n\treturn parseFloat(value.toFixed(precision(step)));\n}\n\nfunction precision(n) {\n\tvar s = n + '',\n\t\td = s.indexOf('.') + 1;\n\n\treturn !d ? 0 : s.length - d;\n}\n\n\nexport default Draggable;\n"],
  "mappings": "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",
  "names": ["require_fake_element", "__commonJSMin", "exports", "module", "require_prefix", "__commonJSMin", "exports", "module", "styles", "pre", "dom", "require_css", "__commonJSMin", "exports", "module", "fakeStyle", "prefix", "el", "obj", "name", "value", "prefixize", "uName", "require_parse_value", "__commonJSMin", "exports", "module", "str", "require_selection", "__commonJSMin", "exports", "css", "el", "pd", "require_rect", "__commonJSMin", "exports", "module", "Rect", "l", "t", "r", "b", "require_has_scroll", "__commonJSMin", "exports", "require_scrollbar", "__commonJSMin", "exports", "module", "scrollDiv", "style", "require_is_fixed", "__commonJSMin", "exports", "module", "el", "parentEl", "require_translate", "__commonJSMin", "exports", "module", "css", "parseValue", "el", "translateStr", "match", "values", "value", "require_offset", "__commonJSMin", "exports", "module", "win", "doc", "Rect", "hasScroll", "scrollbar", "isFixedEl", "getTranslate", "offsets", "el", "cRect", "result", "res", "isFixed", "xOffset", "yOffset", "require_icicle", "__commonJSMin", "exports", "module", "lock", "unlock", "isLocked", "lockCache", "target", "name", "locks", "require_listeners", "__commonJSMin", "exports", "module", "LISTENERS", "get", "target", "evt", "tags", "cbs", "result", "filteredResult", "cb", "hasTags", "remove", "evtCallbacks", "callbacks", "i", "add", "targetCallbacks", "require_off", "__commonJSMin", "exports", "module", "off", "icicle", "listeners", "target", "evt", "fn", "callbacks", "i", "args", "allOff", "evtParts", "obj", "evtName", "cb", "offMethod", "require_on", "__commonJSMin", "exports", "module", "icicle", "listeners", "off", "on", "target", "evt", "cb", "o", "selector", "delegate", "onMethod", "evtParts", "container", "srcEl", "delegateTarget", "require_emit", "__commonJSMin", "exports", "module", "icicle", "listeners", "target", "evt", "a", "b", "args", "emit", "$", "doc", "win", "eventName", "data", "bubbles", "emitMethod", "evtParts", "evtCallbacks", "fireList", "i", "require_emmy", "__commonJSMin", "exports", "module", "require_get_client_xy", "__commonJSMin", "exports", "module", "getClientY", "idx", "findTouch", "getClientX", "getClientXY", "touchList", "i", "require_is_primitive", "__commonJSMin", "exports", "module", "val", "require_st8", "__commonJSMin", "exports", "module", "isPrimitive", "State", "states", "context", "value", "prevValue", "ENTER", "EXIT", "OTHERWISE", "oldStateName", "oldState", "leaveResult", "leaveFlag", "newStateName", "newState", "enterResult", "enterFlag", "require_define_state", "__commonJSMin", "exports", "module", "defineState", "State", "target", "property", "descriptor", "isFn", "state", "value", "import_css", "import_parse_value", "import_selection", "import_offset", "import_translate", "import_is_fixed", "import_emmy", "import_get_client_xy", "import_define_state", "win", "doc", "root", "draggableCache", "Draggable", "target", "options", "that", "instance", "defineState", "eventName", "callback", "q", "thatRect", "offsets", "dropTarget", "targetRect", "intersect", "e", "now", "elapsed", "dX", "dY", "delta", "v", "isZeroArray", "clientX", "getClientX", "clientY", "getClientY", "difX", "difY", "selection", "css", "handle", "mouseX", "mouseY", "diffMouseX", "diffMouseY", "mouseAbsX", "mouseAbsY", "x", "y", "touches", "isFixed", "cancelEls", "draggy", "cancelEl", "thatClientRect", "pinX", "pinY", "initXY", "thatOffsets", "within", "withinOffsets", "getTranslate", "parseCSSValue", "round", "value", "pin", "val", "limits", "w", "oX", "loop", "clamp", "h", "oY", "arr", "str", "prev", "curr", "rect1", "rect2", "tolerance", "overlapX", "overlapY", "overlapArea", "rect1Area", "rect2Area", "smallerArea", "left", "right", "tmp", "frame", "min", "max", "step", "precision", "n", "s", "d", "draggy_default"]
}
